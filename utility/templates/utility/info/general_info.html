<!-- Template for the maintenance of system preference records
It is very sensitive as changes to any of the records affect the entire application
Only the Admin has access to this page
The access restriction is implemented in the view -->

{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block extra_title %}- Sys Param {% endblock %}
{% block postloadjs %}

{% endblock %}
{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}
{% block content %}
<div class="overlay"></div>
<div class="container-fluid gx-4 ">
    <div class="row">
        <div class="col main-title text-center">
            <h4>Maintain General Information</h4>
        </div>
    </div>
</div>
<div class="container-fluid gx-4 ">
    <div class="row justify-content-center">
        <div class="col-12 col-md-6">
            <form action="{% url 'general_info' %}" method="POST" id="gen_info_update">
                {% csrf_token %}

                {{ form | crispy }}
 
                <div class="d-flex justify-content-center mt-2">
                    <button type="submit" class="btn btn-primary btn-ok" name="save_gen_info">Save</button>
                </div>
            </form>
                <table class="table table-striped">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Description</th>
                        <th scope="col">Data</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                        {% for item in info %}
                      <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td>{{ item.verbose_name }}</td>
                        <td>{{ item.description | safe}}</td>
                        <td> <button class="btn btn-sm btn-select select-pref" data-code = {{item.code}} >Select</button>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                  <input type="hidden" name="info_code" value ={{info_code}} id="clicked-code">
                  <button class="btn hidden" id="select-info-btn" type="submit"
                  name="action">select actual</button>

        </div>
    </div>
</div>
{% endblock %}